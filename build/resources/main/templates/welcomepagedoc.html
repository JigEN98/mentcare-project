<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>MENTCARE doctor</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
<h1 th:text="'Hello Dr. ' + ${doctor.surname} ">Hello</h1>
<h2>Lista appuntamenti </h2>
<table border="1">
  <thead>
  <tr>
    <th>Date</th>
    <th>Note</th>
    <th>Paziente</th>
    <th>modify</th>
    <th>delete</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="appointment: ${appointments}">
    <td th:text="${appointment.date.format(T(java.time.format.DateTimeFormatter).ofPattern('yyyy-MM-dd HH:mm'))}">1970-01-01</td>
    <td th:text="${appointment.description}"> TEST DESC </td>
    <td> <a href="modify_appointment?id_doc=10&&id=11" th:href="@{modify_appointment(id_doc=${appointment.getIdDoctor()}, id=${appointment.getID()})}"> modify </a></td>
    <td> <a href="delete_appointment?id_doc=10&&id=11" th:href="@{delete_appointment(id_doc=${appointment.getIdDoctor()}, id=${appointment.getID()})}"> delete </a></td>
  </tr>
  </tbody>
</table>
<a href="insertapp?id=11" th:href="@{insertapp(id=${doctor.getID()})}"> insert appointment </a>
<h2> Lista pazienti </h2>
<table border="1">
  <thead>
  <tr>
    <th>Name</th>
    <th>Surname</th>
    <th>Data di nascita</th>
    <th>modify</th>
    <th>delete</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="patient: ${patients}">
    <td th:text="${patient.name}"> Name </td>
    <td th:text="${patient.surname}"> Surname </td>
    <td th:text="${patient.birthDate}"> birth date </td>
    <td> <a href="modify_patient?id_doc=10&&id=11" th:href="@{modify_patient(id_doc=${patient.getDoc()}, id=${patient.getID()})}"> modify </a></td>
    <td> <a href="delete_patient?id_doc=10&&id=11" th:href="@{delete_patient(id_doc=${patient.getDoc()}, id=${patient.getID()})}"> delete </a></td>
  </tr>
  </tbody>
</table>
<a href="insertp?id=99" th:href="@{insertp(id=${doctor.getID()})}"> insert patient </a><br>
<a href="login"> Logout </a>
</body>
</html>